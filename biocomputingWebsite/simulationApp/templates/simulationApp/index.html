{% extends "base.html" %}
{% load static %}

{% block bodysetting %}<body id="body" style="height: 93.6vh; margin: 0px;" onresize="resize()">{% endblock bodysetting %}

{% block content %}
	<link rel="stylesheet" type="text/css" href="{% static 'simulationApp/css/sideBarStyle.css' %}"></link>

	<div class="sketchbox">
		<div class="components" id="components">
				<button class="accordion">Entity Pool Nodes</button>
				<div class="panel" id="epn">
					<div class="grid-item"><img src="{% static 'simulationApp/images/entity_pool_nodes/empty-set.png' %}" title="Empty Set" id="epn1" onmousedown="idClicked = 'epn1'"></div>
					<div class="grid-item"><img src="{% static 'simulationApp/images/entity_pool_nodes/macromolecule.png' %}" title="Macromolecule" id="epn2" onmousedown="idClicked = 'epn2'"></div>
					<div class="grid-item"><img src="{% static 'simulationApp/images/entity_pool_nodes/nucleic-acid-feature.png' %}" title="Nucleic Acid Feature" id="epn3" onmousedown="idClicked = 'epn3'"></div>  
					<div class="grid-item"><img src="{% static 'simulationApp/images/entity_pool_nodes/perturbing-agent.png' %}" title="Perturbing Agent" id="epn4" onmousedown="idClicked = 'epn4'"></div>
					<div class="grid-item"><img src="{% static 'simulationApp/images/entity_pool_nodes/simple-chemical.png' %}" title="Simple Chemical" id="epn5" onmousedown="idClicked = 'epn5'"></div>
					<div class="grid-item"><img src="{% static 'simulationApp/images/entity_pool_nodes/unspecified-entity.png' %}" title="Unspecfied Entity" id="epn6" onmousedown="idClicked = 'epn6'"></div>  
				</div>

				<button class="accordion">Logic Operators</button>
				<div class="panel" id="lo">
					<div class="grid-item"><img src="{% static 'simulationApp/images/logic_operators/and.png' %}" title="And" id="lo1" onmousedown="idClicked = 'lo1'"></div>
					<div class="grid-item"><img src="{% static 'simulationApp/images/logic_operators/not.png' %}" title="Not" id="lo2" onmousedown="idClicked = 'lo2'"></div>
					<div class="grid-item"><img src="{% static 'simulationApp/images/logic_operators/or.png' %}" title="Or" id="lo3" onmousedown="idClicked = 'lo3'"></div>  
				</div>

				<button class="accordion">Process Nodes</button>
				<div class="panel" id="pn">
					<div class="grid-item"><img src="{% static 'simulationApp/images/process_nodes/association.png' %}" title="Association" id="pn1" onmousedown="idClicked = 'pn1'"></div>
					<div class="grid-item"><img src="{% static 'simulationApp/images/process_nodes/dissociation.png' %}" title="Dissociation" id="pn2" onmousedown="idClicked = 'pn2'"></div>
					<div class="grid-item"><img src="{% static 'simulationApp/images/process_nodes/omitted-process.png' %}" title="Omitted Process" id="pn3" onmousedown="idClicked = 'pn3'"></div>  
					<div class="grid-item"><img src="{% static 'simulationApp/images/process_nodes/phenotype.png' %}" title="Phenotype" id="pn4" onmousedown="idClicked = 'pn4'"></div>
					<div class="grid-item"><img src="{% static 'simulationApp/images/process_nodes/process.png' %}" title="Process" id="pn5" onmousedown="idClicked = 'pn5'"></div>
					<div class="grid-item"><img src="{% static 'simulationApp/images/process_nodes/uncertain-process.png' %}" title="Uncertain Process" id="pn6" onmousedown="idClicked = 'pn6'"></div>  
				</div>

				<button class="accordion">Reference Nodes</button>
				<div class="panel" id="rn">
					<div class="grid-item"><img src="{% static 'simulationApp/images/reference_node/tag.png' %}" title="Tag" id="rn1" onmousedown="idClicked = 'rn1'"></div>
				</div>

				<button class="accordion">Connecting Arcs</button>
				<div class="panel" id="ca">
					<div class="grid-item"><img src="{% static 'simulationApp/images/connecting_arcs/catalysis.png' %}" title="Catalysis" id="ca1" onmousedown="idClicked = 'ca1'"></div>
					<div class="grid-item"><img src="{% static 'simulationApp/images/connecting_arcs/consumption.png' %}" title="Consumption" id="ca2" onmousedown="idClicked = 'ca2'"></div>
					<div class="grid-item"><img src="{% static 'simulationApp/images/connecting_arcs/equivalence_arc.png' %}" title="Equivalence Arc" id="ca3" onmousedown="idClicked = 'ca3'"></div>  
					<div class="grid-item"><img src="{% static 'simulationApp/images/connecting_arcs/inhibition.png' %}" title="Inhibition" id="ca4" onmousedown="idClicked = 'ca4'"></div>
					<div class="grid-item"><img src="{% static 'simulationApp/images/connecting_arcs/logic_arc.png' %}" title="Logic Arc" id="ca5" onmousedown="idClicked = 'ca5'"></div>
					<div class="grid-item"><img src="{% static 'simulationApp/images/connecting_arcs/modulation.png' %}" title="Modulation" id="ca6" onmousedown="idClicked = 'ca6'"></div>  
					<div class="grid-item"><img src="{% static 'simulationApp/images/connecting_arcs/necessary-stimulation.png' %}" title="Necessary Stimulation" id="ca7" onmousedown="idClicked = 'ca7'"></div>
					<div class="grid-item"><img src="{% static 'simulationApp/images/connecting_arcs/production.png' %}" title="Production" id="ca8" onmousedown="idClicked = 'ca8'"></div>
					<div class="grid-item"><img src="{% static 'simulationApp/images/connecting_arcs/stimulation.png' %}" title="Stimulation" id="ca9" onmousedown="idClicked = 'ca9'"></div>  
				</div>

				<button class="accordion">SBGN Bricks</button>
				<div class="panel" id="sb"></div>

				<script>
					//Folding of the component menus
					var acc = document.getElementsByClassName("accordion");
					var i, j;

					for (i = 0; i < acc.length; i++) {
						acc[i].addEventListener("click", function() {

							for(j = 0; j < acc.length; j++){
								if(j!=i){
									acc[j].classList.toggle("active", false);
									var panelJ = acc[j].nextElementSibling;
									panelJ.style.display = "none";
								}
							}

							this.classList.toggle("active", true);

							var panel = this.nextElementSibling;
							if (panel.style.display === "block") {
								panel.style.display = "none";
								this.classList.toggle("active", false);
							} else {
								panel.style.display = "grid";
							}
						});
					}			
				</script>
		</div>

		<div id="myContainer" class="droptarget"></div>
	</div>

	<script>

		function componentImg(imPath, w, h) {
			this.imPath = imPath;
			this.w = w;
			this.h = h;
		}
	//testing
		var imTest = new componentImg("{% static 'simulationApp/images/test.png' %}", 300, 500);

	//connecting arcs
		var cat_img = new componentImg("{% static 'simulationApp/images/connecting_arcs/catalysis.png' %}", 50, 50);
		var consumption_img = new componentImg("{% static 'simulationApp/images/connecting_arcs/consumption.png' %}", 50, 50);
		var eq_arc_img = new componentImg("{% static 'simulationApp/images/connecting_arcs/equivalence_arc.png' %}", 50, 50);
		var inhib_img = new componentImg("{% static 'simulationApp/images/connecting_arcs/inhibition.png' %}", 50, 50);
		var log_arc_img = new componentImg("{% static 'simulationApp/images/connecting_arcs/logic_arc.png' %}", 50, 50);
		var mod_img = new componentImg("{% static 'simulationApp/images/connecting_arcs/modulation.png' %}", 50, 50);
		var nec_stim_img = new componentImg("{% static 'simulationApp/images/connecting_arcs/necessary-stimulation.png' %}", 50, 50);
		var prod_img = new componentImg("{% static 'simulationApp/images/connecting_arcs/production.png' %}", 50, 50);
		var stim_img = new componentImg("{% static 'simulationApp/images/connecting_arcs/stimulation.png' %}", 50, 50);
	//entity pool nodes
		var empty_img = new componentImg("{% static 'simulationApp/images/entity_pool_nodes/empty-set.png' %}", 50, 50);
		var macro_img = new componentImg("{% static 'simulationApp/images/entity_pool_nodes/macromolecule.png' %}", 50, 50);
		var nuc_acid_img = new componentImg("{% static 'simulationApp/images/entity_pool_nodes/nucleic-acid-feature.png' %}", 50, 50);
		var pert_agent_img = new componentImg("{% static 'simulationApp/images/entity_pool_nodes/perturbing-agent.png' %}", 50, 50);
		var simple_chem_img = new componentImg("{% static 'simulationApp/images/entity_pool_nodes/simple-chemical.png' %}", 50, 50);
		var unspec_ent_img = new componentImg("{% static 'simulationApp/images/entity_pool_nodes/unspecified-entity.png' %}", 50, 50);
		//multimers
		//clone marker

	//logic operators
		var and_img = new componentImg("{% static 'simulationApp/images/logic_operators/and.png' %}",);
		var not_img = new componentImg("{% static 'simulationApp/images/logic_operators/not.png' %}",);
		var or_img = new componentImg("{% static 'simulationApp/images/logic_operators/or.png' %}",);
		//equivalence operator

	//process nodes
		var assoc1_img = new componentImg("{% static 'simulationApp/images/process_nodes/association.png' %}", 50, 50);
		var dissoc1_img = new componentImg("{% static 'simulationApp/images/process_nodes/dissociation.png' %}", 50, 50);
		var omit_process1_img = new componentImg("{% static 'simulationApp/images/process_nodes/omitted-process.png' %}", 50, 50);
		var pheno1_img = new componentImg("{% static 'simulationApp/images/process_nodes/phenotype.png' %}", 50, 50);
		var process1_img = new componentImg("{% static 'simulationApp/images/process_nodes/process.png' %}", 50, 50);
		var uncert_pro1_img = new componentImg("{% static 'simulationApp/images/process_nodes/uncertain-process.png' %}", 50, 50);

	//reference node
		var tag_img = new componentImg("{% static 'simulationApp/images/reference_node/tag.png' %}", 50, 50);
		
	//sbgn bricks
		//catalysis
		var cat_irr_11_img = new componentImg("{% static 'simulationApp/images/sbgn_bricks/Catalysis/PD_catalysis_irr_1_1.png' %}", 50, 50);
		var cat_irr_12_img = new componentImg("{% static 'simulationApp/images/sbgn_bricks/Catalysis/PD_catalysis_irr_1_2.png' %}", 50, 50);
		var cat_irr_21_img = new componentImg("{% static 'simulationApp/images/sbgn_bricks/Catalysis/PD_catalysis_irr_2_1.png' %}", 50, 50);
		var cat_irr_22_img = new componentImg("{% static 'simulationApp/images/sbgn_bricks/Catalysis/PD_catalysis_irr_2_2.png' %}", 50, 50);
		var cat_rev_11_img = new componentImg("{% static 'simulationApp/images/sbgn_bricks/Catalysis/PD_catalysis_rev_1_1.png' %}", 50, 50);
		var cat_rev_22_img = new componentImg("{% static 'simulationApp/images/sbgn_bricks/Catalysis/PD_catalysis_rev_2_2.png' %}", 50, 50);
		//compartmentation transport
		var comp_act_img = new componentImg("{% static 'simulationApp/images/sbgn_bricks/Compartmentation_Transport/PD_comp_active_transport.png' %}", 50, 50);
		var comp_pass_img = new componentImg("{% static 'simulationApp/images/sbgn_bricks/Compartmentation_Transport/PD_comp_passive_transport.png' %}", 50, 50);
		//complex dissociation
		var comp_diss_img = new componentImg("{% static 'simulationApp/images/sbgn_bricks/Complex_Dissocation/PD_complex_dissocation.png' %}", 50, 50);
		//complex formation
		var comp_form_img = new componentImg("{% static 'simulationApp/images/sbgn_bricks/Complex_Formation/PD_complex_formation.png' %}", 50, 50);
		//oligomerization homodimerization
		var homodimer_img = new componentImg("{% static 'simulationApp/images/sbgn_bricks/Oligomerization_Homodimerization/PD_homodimerization.png' %}", 50, 50);
		//protein phosphorylation
		var phosp_img = new componentImg("{% static 'simulationApp/images/sbgn_bricks/Protein_Phosphorylation/PD_phosphorylation.png' %}", 50, 50);
		//regulation of transcription
		var drt_img = new componentImg("{% static 'simulationApp/images/sbgn_bricks/Regulation_of_Transcription/PD_direct_regulation_transcription.png' %}", 50, 50);
		var trans_and_img= new componentImg("{% static 'simulationApp/images/sbgn_bricks/Regulation_of_Transcription/PD_transcription_AND.png' %}", 50, 50);
		//translation
		var trans_img = new componentImg("{% static 'simulationApp/images/sbgn_bricks/Translation/PD_translation.png' %}", 50, 50);

	//annotation node
		//annotation


		
	</script>

	<script src="{% static 'simulationApp/p5.js' %}"></script>
	<script src="{% static 'simulationApp/contour.js' %}"></script>
	<script src="{% static 'simulationApp/vertex.js' %}"></script>
	<script src="{% static 'simulationApp/grid.js' %}"></script>
	<script src="{% static 'simulationApp/topBarElement.js' %}"></script>
	<script src="{% static 'simulationApp/sidebar.js' %}"></script>
	<script src="{% static 'simulationApp/sidebar-component.js' %}"></script>
	<script src="{% static 'simulationApp/topBar.js' %}"></script>
	<script src="{% static 'simulationApp/component.js' %}"></script>
	<script src="{% static 'simulationApp/sketch.js' %}"></script>
	<script src="{% static 'simulationApp/edge.js' %}"></script>


{% endblock content %}
